# Generated by Okty.io
version: '3.6'
services:
    mysql_01:
        image: 'mysql:5.7.28'
        environment:
            - MYSQL_DATABASE=${DB_NAME_01}
            - MYSQL_USER=${DB_USER}
            - MYSQL_PASSWORD=${DB_PASSWORD}
            - MYSQL_RANDOM_ROOT_PASSWORD=yes
        volumes:
            - ./sql/create_table.sql:/docker-entrypoint-initdb.d/01_schema.sql:ro
            - ./sql/seed_01.sql:/docker-entrypoint-initdb.d/02_seed.sql
        ports:
            - 127.0.0.1:3306:3306

    mysql_02:
        image: 'mysql:5.7.28'
        environment:
            - MYSQL_DATABASE=${DB_NAME_02}
            - MYSQL_USER=${DB_USER}
            - MYSQL_PASSWORD=${DB_PASSWORD}
            - MYSQL_RANDOM_ROOT_PASSWORD=yes
        volumes:
            - ./sql/create_table.sql:/docker-entrypoint-initdb.d/01_schema.sql:ro
            - ./sql/seed_02.sql:/docker-entrypoint-initdb.d/02_seed.sql
        ports:
            - 127.0.0.1:3307:3306

    php:
        build: docker/php
        working_dir: '/app'
        volumes:
            - './:/app'

    composer:
        image: 'composer:1.8'
        command: install
        volumes:
            - './:/app'

    adminer:
        image: 'adminer:4.7'
        ports:
            - 127.0.0.1:8080:8080
